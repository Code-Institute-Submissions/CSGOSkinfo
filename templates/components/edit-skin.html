{% extends 'layout/dashboard-base.html' %}
{% set active_page = "editskin" %}
{% block content %}
<meta id="weapons" data-weapons="{{ weapons }}">
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h2 class="h2">{{ page_title }}</h2>
</div>
<div class="accordion accordion-flush mt-5" id="accordionFlushExample">
  <div class="accordion-item bg-dark text-white">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed bg-dark text-white border" type="button" data-bs-toggle="collapse"
        data-bs-target="#Edit-weapon" aria-expanded="true" aria-controls="Edit-weapon">
        Edit Weapon
      </button>
    </h2>
    <div id="Edit-weapon" class="accordion-collapse collapse" aria-labelledby="Edit-weapon" data-bs-parent="#Edit-weapon">
      <div class="accordion-body row">
        {% for skin in skins %}
                    {% set skinname = skin.name %}
                    <div class="col-lg-3 col-sm-6 mb-2">
                        <div class="card border bg-dark">
                            <a href="#">
                                {% if skin.image_urls.factory_new is not none %}
                                    <img src="{{ skin.image_urls.factory_new }}" 
                                    class="card-img-top" alt="{{ skin.name }} image">
                                {% else %}
                                    <img src="{{ skin.image_urls.min_wear }}" 
                                    class="card-img-top" alt="{{ skin.name }} image">
                                {% endif %}
                            </a>
                            <div class="card-body p-0">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item text-white border bg-dark">
                                        {{ skin.name }}
                                    </li>
                                    <li class="list-group-item text-white bg-dark">
                                        <p class="{{ skin.rarity | replace(' ', '-') | lower }} text-center p-2">{{ skin.rarity }}</p>
                                    </li>
                                    <li class="list-group-item text-white bg-dark">
                                        <p>{{ skin.skin_description }}</p>
                                    </li>
                                </ul>

                                {% if session.user %}
                                  <div class="like-buttons text-center mb-3">
                                      <button id="{{ skin._id }}" data-collection="skins" {{ 'already-liked=true' if skin._id in session.user.skins_liked }} class="like-btn btn btn-light fs-2 p-3" name="like-btn" type="submit">
                                        <i class="fas fa-thumbs-up"></i>
                                        <strong id="up_votes">{{ skin.up_votes }}</strong>
                                      </button>
                                      <button id="{{ skin._id }}" data-collection="skins" {{ 'disliked=true' if skin._id in session.user.skins_disliked }} class="dislike-btn btn btn-light fs-2 p-3" name="dislike-btn" type="submit">
                                        <i class="fas fa-thumbs-down"></i>
                                        <strong id="up_votes">{{ skin.down_votes }}</strong>
                                      </button>
                                  </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}
      </div>
    </div>
  </div>
  <div class="accordion-item bg-dark text-white mt-5">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed bg-dark text-white border" type="button" data-bs-toggle="collapse"
        data-bs-target="#Edit-knife" aria-expanded="false" aria-controls="Edit-knife">
        Edit Knife
      </button>
    </h2>
    <div id="Edit-knife" class="accordion-collapse collapse" aria-labelledby="Edit-knife" data-bs-parent="#Edit-knife">
      <div class="accordion-body">
      </div>
    </div>
  </div>
  <div class="accordion-item bg-dark text-white mt-5">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed bg-dark text-white border" type="button" data-bs-toggle="collapse"
        data-bs-target="#Edit-gloves" aria-expanded="false" aria-controls="Edit-gloves">
        Edit Gloves
      </button>
    </h2>
    <div id="Edit-gloves" class="accordion-collapse collapse" aria-labelledby="Edit-gloves" data-bs-parent="#Edit-gloves">
      <div class="accordion-body">
      </div>
    </div>
  </div>
  <div class="accordion-item bg-dark text-white mt-5">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed bg-dark text-white border" type="button" data-bs-toggle="collapse"
        data-bs-target="#Edit-case" aria-expanded="false" aria-controls="Edit-case">
        Edit Case
      </button>
    </h2>
    <div id="Edit-case" class="accordion-collapse collapse" aria-labelledby="Edit-case" data-bs-parent="#Edit-case">
      <div class="accordion-body">
      </div>
    </div>
  </div>
</div>
</div>
{% endblock %}